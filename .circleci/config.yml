version: 2.1

orbs:
  dependency-scan: launchdarkly/dependency-scan-orb@dev:41e73ed

workflows:
  dependency_license_check:
    jobs:
      - dependency-scan/generate-node-sbom:
          package_manager: "pnpm"
      - dependency-scan/get-license-policy
      - dependency-scan/evaluate-policy:
          bom_file: "node-bom.json"
          requires:
            - dependency-scan/generate-node-sbom
            - dependency-scan/get-license-policy
