{"version":3,"file":"index.es.js","sources":["../src/Toggle.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\n\nimport { useSwitch } from '@react-aria/switch';\nimport { VisuallyHidden } from '@react-aria/visually-hidden';\nimport { useToggleState } from '@react-stately/toggle';\nimport { cx } from 'classix';\nimport { useRef } from 'react';\n\nimport styles from './styles/Toggle.module.css';\n\ntype ToggleProps = {\n  /**\n   * Use an aria-label if you don't pass in children and don't have a visible label to associate with the input element.\n   */\n  'aria-label'?: string;\n  /**\n   * id attribute of the label text elsewhere in the app, used for screen reader support. Use this for cases where you have a visible label on the page that **is not close to** to the input. https://tink.uk/the-difference-between-aria-label-and-aria-labelledby/\n   */\n  'aria-labelledby'?: string;\n  /**\n   * Is the Toggle checked?\n   */\n  checked?: boolean;\n  /**\n   * The text to pass into the Toggle label.\n   */\n  children?: ReactNode;\n  /**\n   * Custom classname(s) to add to the Toggle.\n   */\n  className?: string;\n  /**\n   * Is the Toggle disabled?\n   */\n  disabled?: boolean;\n  /**\n   * The id to pair the Toggle input with the label for screen reader support.\n   */\n  id?: string;\n  /**\n   * The function to pass into the Toggle onChange synthetic event handler\n   */\n  onChange?(): void;\n  /**\n   * Text to display when Toggle is offdefault text is 'Off'.\n   */\n  toggleOffText?: string;\n  /**\n   * Text to display when Toggle is on, default text is 'On'.\n   */\n  toggleOnText?: string;\n  'data-test-id'?: string;\n};\n\n/**\n * The react-aria library requires us to leverage useToggleState and useRef\n * to pass into the useSwitch hook. The props are deconstructed in the body of the\n * function rather than in the parameters.\n * The VisuallyHidden component from the react-aria library adds some extra\n * goodness (the useFocus hook is leveraged).\n */\n\nconst Toggle = (props: ToggleProps) => {\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    checked,\n    children,\n    className,\n    disabled,\n    id = 'id',\n    onChange,\n    toggleOffText = 'Off',\n    toggleOnText = 'On',\n    'data-test-id': testId = 'toggle',\n  } = props;\n  const state = useToggleState(props);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const { inputProps } = useSwitch(props, state, inputRef);\n  const classes = cx(\n    styles.Toggle,\n    className,\n    checked && styles['Toggle--on'],\n    disabled && styles['Toggle--disabled']\n  );\n\n  const handleChange = () => {\n    if (disabled || !onChange) {\n      return;\n    }\n\n    onChange();\n  };\n\n  return (\n    <div className={classes}>\n      <input\n        {...inputProps}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        checked={checked}\n        className={styles['Toggle-input']}\n        disabled={disabled}\n        id={id}\n        data-test-id={testId}\n        type=\"checkbox\"\n        onChange={handleChange}\n        ref={inputRef}\n      />\n      <label className={styles['Toggle-wrapper']} htmlFor={id}>\n        <VisuallyHidden>\n          <div>{children}</div>\n        </VisuallyHidden>\n        <div className={styles['Toggle-labels']} aria-hidden>\n          <div className={cx(styles['Toggle-label'], styles['Toggle-on'])}>{toggleOnText}</div>\n          <div className={cx(styles['Toggle-label'], styles['Toggle-off'])}>{toggleOffText}</div>\n        </div>\n        <div className={styles['Toggle-pin']} />\n      </label>\n    </div>\n  );\n};\n\nexport { Toggle };\nexport type { ToggleProps };\n"],"names":["Toggle","props","ariaLabel","ariaLabelledby","checked","children","className","disabled","id","onChange","toggleOffText","toggleOnText","testId","state","useToggleState","inputRef","useRef","inputProps","useSwitch","classes","cx","styles","handleChange","_jsx","_jsxs"],"mappings":";;;;;;;;;;;;;;;;;;;;AA8DMA,MAAAA,SAAS,CAACC,UAAuB;AAC/B,QAAA;AAAA,IACJ,cAAcC;AAAAA,IACd,mBAAmBC;AAAAA,IACnBC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC,KAAK;AAAA,IACLC;AAAAA,IACAC,gBAAgB;AAAA,IAChBC,eAAe;AAAA,IACf,gBAAgBC,SAAS;AAAA,EACvBX,IAAAA;AACEY,QAAAA,QAAQC,eAAeb,KAAK;AAC5Bc,QAAAA,WAAWC,OAAyB,IAAI;AACxC,QAAA;AAAA,IAAEC;AAAAA,EAAeC,IAAAA,UAAUjB,OAAOY,OAAOE,QAAQ;AACjDI,QAAAA,UAAUC,GACdC,OAAOrB,QACPM,WACAF,WAAWiB,OAAO,eAClBd,YAAYc,OAAO,mBAAmB;AAGxC,QAAMC,eAAe,MAAM;AACrBf,QAAAA,YAAY,CAACE,UAAU;AACzB;AAAA,IACF;AAEU;EAAA;AAGZ,8BACE,OAAA;AAAA,IAAK,WAAWU;AAAAA,IAAQ,UACtB,CAAAI,oBAAA,SAAA;AAAA,MAAA,GACMN;AAAAA,MACJ,cAAYf;AAAAA,MACZ,mBAAiBC;AAAAA,MACjB;AAAA,MACA,WAAWkB,OAAO;AAAA,MAClB;AAAA,MACA;AAAA,MACA,gBAAcT;AAAAA,MACd,MAAK;AAAA,MACL,UAAUU;AAAAA,MACV,KAAKP;AAAAA,IAAAA,CAAS,GAEhBS,qBAAA,SAAA;AAAA,MAAO,WAAWH,OAAO;AAAA,MAAmB,SAASb;AAAAA,MAAG,UAAA,CACtDe,oBAAC,gBAAc;AAAA,QAAA,8BACb,OAAA;AAAA,UAAA;AAAA,QAAA,CAAc;AAAA,MAAA,CAAO,GAEvBC,qBAAA,OAAA;AAAA,QAAK,WAAWH,OAAO;AAAA,QAAkB,eAAW;AAAA,QAAA,UAClD,CAAAE,oBAAA,OAAA;AAAA,UAAK,WAAWH,GAAGC,OAAO,iBAAiBA,OAAO,YAAY;AAAA,UAAE,UAAEV;AAAAA,QAAAA,CAAY,GAC9EY,oBAAA,OAAA;AAAA,UAAK,WAAWH,GAAGC,OAAO,iBAAiBA,OAAO,aAAa;AAAA,UAAE,UAAEX;AAAAA,QAAAA,CAAoB,CAAA;AAAA,MAAA,CAAA,GAEzFa,oBAAA,OAAA;AAAA,QAAK,WAAWF,OAAO;AAAA,MAAA,CAAiB,CAAA;AAAA,IAAA,CAClC,CAAA;AAAA,EAAA,CACJ;AAEV;"}