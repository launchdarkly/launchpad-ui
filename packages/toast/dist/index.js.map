{"version":3,"file":"index.js","sources":["../src/Toast.tsx","../src/ToastCenter.tsx"],"sourcesContent":["import type { HTMLAttributes, ReactNode } from 'react';\n\nimport { StatusIcon } from '@launchpad-ui/icons';\nimport { cx } from 'classix';\nimport { useEffect } from 'react';\n\nimport styles from './styles/Toast.module.css';\n\ntype ToastBaseProps = {\n  kind: 'info' | 'success' | 'warning';\n  onDismiss: () => void;\n  content: ReactNode;\n  'data-test-id'?: string;\n};\n\ntype ToastProps = Omit<HTMLAttributes<HTMLDivElement>, 'children'> & ToastBaseProps;\n\nconst Toast = ({\n  className,\n  kind,\n  onDismiss,\n  content,\n  'data-test-id': testId = 'toast',\n  ...rest\n}: ToastProps) => {\n  useEffect(() => {\n    setTimeout(() => {\n      onDismiss();\n    }, 6000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div\n      {...rest}\n      className={cx(styles.Toast, styles[`Toast--${kind}`], className)}\n      data-test-id={testId}\n      role=\"status\"\n    >\n      {kind !== 'info' && <StatusIcon kind={kind} className={styles['Toast-icon']} />}\n      <p className={styles['Toast-content']}>{content}</p>\n    </div>\n  );\n};\n\nexport { Toast };\nexport type { ToastBaseProps, ToastProps };\n","import type { ToastBaseProps } from './Toast';\n\nimport { cx } from 'classix';\nimport { AnimatePresence, LazyMotion, m } from 'framer-motion';\n\nimport { Toast } from './Toast';\nimport styles from './styles/ToastCenter.module.css';\n\nconst loadFeatures = () =>\n  import(\n    /* webpackChunkName: \"lp-toast-framer-features\" */\n    /* webpackExports: \"domAnimation\" */\n    'framer-motion'\n  ).then((res) => res.domAnimation);\n\ntype ToastRecord = Omit<ToastBaseProps, 'onDismiss'> & {\n  _id: string;\n};\n\ntype ToastCenterProps = {\n  className?: string;\n  toasts: ToastRecord[];\n  onDismiss(toastId: string): void;\n};\n\nconst ToastCenter = ({ toasts, onDismiss, className }: ToastCenterProps) => {\n  const classes = cx(styles.ToastCenter, className);\n\n  return (\n    <LazyMotion strict features={loadFeatures}>\n      <div className={classes}>\n        <AnimatePresence initial={false}>\n          {toasts.map((item) => (\n            <m.div\n              className={styles['ToastCenter-item']}\n              key={item._id}\n              transition={{ ease: 'easeInOut' }}\n              initial={{ y: '100%' }}\n              animate={{ y: '0%' }}\n              exit={{ y: '0%' }}\n            >\n              <Toast\n                kind={item.kind}\n                content={item.content}\n                onDismiss={() => onDismiss(item._id)}\n              />\n            </m.div>\n          ))}\n        </AnimatePresence>\n      </div>\n    </LazyMotion>\n  );\n};\n\nexport { ToastCenter };\nexport type { ToastCenterProps, ToastRecord };\n"],"names":["Toast","className","kind","onDismiss","content","testId","rest","useEffect","setTimeout","cx","styles","StatusIcon","_jsx","loadFeatures","then","res","domAnimation","ToastCenter","toasts","classes","LazyMotion","AnimatePresence","map","item","m","ease","y","_id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA,MAAMA,QAAQ,CAAC;AAAA,EACbC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACA,gBAAgBC,SAAS;AAAA,KACtBC;AACO,MAAM;AAChBC,QAAAA,UAAU,MAAM;AACdC,eAAW,MAAM;AACJ;OACV,GAAI;AAAA,EAET,GAAG,CAAE,CAAA;AAEL,yCACE,OAAA;AAAA,IAAA,GACMF;AAAAA,IACJ,WAAWG,QAAAA,GAAGC,SAAOV,OAAOU,SAAQ,UAASR,SAASD,SAAS;AAAA,IAC/D,gBAAcI;AAAAA,IACd,MAAK;AAAA,IAAQ,UAAA,CAEZH,SAAS,yCAAWS,MAAAA,YAAU;AAAA,MAAC;AAAA,MAAY,WAAWD,SAAO;AAAA,IAAA,CAAc,GAC5EE,2BAAA,IAAA,KAAA;AAAA,MAAG,WAAWF,SAAO;AAAA,MAAiB,UAAEN;AAAAA,IAAAA,CAAY,CAAA;AAAA,EAAA,CAChD;AAEV;;;;;;ACnCA,MAAMS,eAAe,MACnB,QAAA,QAAA,EAAA,KAAA,MAAA,kCAAA;AAAA,EAGE;AAAA,CACAC,CAAAA,EAAAA,KAAMC,CAAQA,QAAAA,IAAIC,YAAY;AAYlC,MAAMC,cAAc,CAAC;AAAA,EAAEC;AAAAA,EAAQf;AAAAA,EAAWF;AAA4B,MAAM;AAC1E,QAAMkB,UAAUV,QAAAA,GAAGC,OAAOO,aAAahB,SAAS;AAEhD,wCACGmB,aAAAA,YAAU;AAAA,IAAC,QAAM;AAAA,IAAC,UAAUP;AAAAA,IAAa,yCACxC,OAAA;AAAA,MAAK,WAAWM;AAAAA,MAAQ,yCACrBE,8BAAe;AAAA,QAAC,SAAS;AAAA,QAAM,UAC7BH,OAAOI,IAAKC,CACX,SAAAX,2BAAA,IAACY,eAAE,KAAG;AAAA,UACJ,WAAWd,OAAO;AAAA,UAElB,YAAY;AAAA,YAAEe,MAAM;AAAA,UAAY;AAAA,UAChC,SAAS;AAAA,YAAEC,GAAG;AAAA,UAAO;AAAA,UACrB,SAAS;AAAA,YAAEA,GAAG;AAAA,UAAK;AAAA,UACnB,MAAM;AAAA,YAAEA,GAAG;AAAA,UAAK;AAAA,UAAE,yCAEjB,OAAK;AAAA,YACJ,MAAMH,KAAKrB;AAAAA,YACX,SAASqB,KAAKnB;AAAAA,YACd,WAAW,MAAMD,UAAUoB,KAAKI,GAAG;AAAA,UAAA,CAAE;AAAA,QAAA,GATlCJ,KAAKI,GAAG,CAYhB;AAAA,MAAA,CAAC;AAAA,IAAA,CACc;AAAA,EAAA,CAET;AAEjB;;;"}